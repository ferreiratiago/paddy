api-version: reviewpad.com/v3.x

workflows:
  - name: attention-set
    if:
      - rule: $isWaitingForReview()
        extra-actions:
          - $addLabel("waiting-review")
      - rule: '!$rule("waiting-review")'
        extra-actions:
          - $removeLabel("waiting-review")
      - rule: $hasUnaddressedThreads()
        extra-actions:
          - $addLabel("requires-author-attention")
      - rule: '!$rule("author-attention")'
        extra-actions:
          - $removeLabel("requires-author-attention")
